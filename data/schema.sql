DROP TABLE IF EXISTS users;
DROP TABLE IF EXISTS legislators;
DROP TABLE IF EXISTS bill;
DROP TABLE IF EXISTS userLeg;
DROP TABLE IF EXISTS userBill;

CREATE TABLE users (
  id INTEGER PRIMARY KEY AUTOINCREMENT, 
  username TEXT, 
  password TEXT,
  firstname TEXT,
  lastname TEXT
);

CREATE TABLE legislators (
  id INTEGER PRIMARY KEY AUTOINCREMENT, 
  name TEXT
);

CREATE TABLE bill (
  id INTEGER PRIMARY KEY AUTOINCREMENT, 
  name TEXT
);

CREATE TABLE userLeg (
  idUser INTEGER, 
  idLeg INTEGER,
  FOREIGN KEY(idUser) REFERENCES users(id) ON DELETE CASCADE,
  FOREIGN KEY(idLeg) REFERENCES legislators(id) ON DELETE CASCADE
);

CREATE TABLE userBill (
  idUser INTEGER, 
  idBill INTEGER,
  FOREIGN KEY(idUser) REFERENCES users(id) ON DELETE CASCADE,
  FOREIGN KEY(idBill) REFERENCES bill(id) ON DELETE CASCADE
);

CREATE TABLE userLegs (
  idUser INTEGER, 
  idLeg TEXT,
  FOREIGN KEY(idUser) REFERENCES users(id) ON DELETE CASCADE
);

CREATE TABLE userBills (
  idUser INTEGER, 
  idBill TEXT,
  FOREIGN KEY(idUser) REFERENCES users(id) ON DELETE CASCADE
);